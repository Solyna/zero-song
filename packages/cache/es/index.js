var e=new class{getItem=e=>e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;setItem=(e,t,s,o="/",i="",r=!1)=>{if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;let n="";if(s)switch(s.constructor){case Number:n=s===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+s;break;case String:n="; expires="+s;break;case Date:n="; expires="+s.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+n+(i?"; domain="+i:"")+(o?"; path="+o:"")+(r?"; secure":""),!0};removeItem=(e,t="/",s="")=>!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(s?"; domain="+s:"")+(t?"; path="+t:""),!0);hasItem=e=>!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie);clearAll=()=>{const e=document.cookie.match(/[^ =;]+(?=\=)/g);e&&e.forEach((e=>{document.cookie=e+"=0;expires="+new Date(0).toUTCString()}))};keys=()=>{for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e};getDomain=()=>{const e=location.hostname.split(".");return e.length>1?/^\d+$/.test(e[0])?e.join("."):"."+e[e.length-2]+"."+e[e.length-1]:e[0]}};function t(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const s={prefixUnable:["token"],prefix:process.env.productConfig.cachePrefix};class o{store;proxy;constructor(e){let s;if(window.name)try{s=JSON.parse(window.name)}catch(e){s={}}t(s)||(s={}),s.session||(s.session={}),s.local||(s.local={}),this.proxy.local=s.local,this.proxy.session=s.session,this.store=this.proxy[e],this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this),this.removeItem=this.removeItem.bind(this),this.clear=this.clear.bind(this),this._saveNameValue=this._saveNameValue.bind(this)}getItem(e){return this.store[e]}setItem(e,t){this.store[e]=t,this._saveNameValue()}removeItem(e){delete this.store[e],this._saveNameValue()}clear(){this.store={},this._saveNameValue()}_saveNameValue(){const e={session:this.proxy.session,local:this.proxy.local};window.name=JSON.stringify(e)}}class i{hasStorage={local:1,session:1};type;proxy;constructor(e){this.checkStorage(),this.hasStorage[e]?this.proxy="local"===e?localStorage:sessionStorage:this.proxy=new o(e),this.type=e,this.checkStorage=this.checkStorage.bind(this),this.get=this.get.bind(this),this.set=this.set.bind(this),this.remove=this.remove.bind(this),this.clear=this.clear.bind(this),this.clearAll=this.clearAll.bind(this),this.removeHttp=this.removeHttp.bind(this),this.getKey=this.getKey.bind(this),this.getForObject=this.getForObject.bind(this),this.isQuotaExceeded=this.isQuotaExceeded.bind(this),this.setExpires=this.setExpires.bind(this)}checkStorage(){try{sessionStorage.setItem("privateTest","1")}catch(e){this.hasStorage.session=0}try{localStorage.setItem("privateTest","1")}catch(e){this.hasStorage.local=0}}get(e){e=this.getKey(e);let t=this.proxy.getItem(e);if(t){if(t=JSON.parse(t),t){if(t.expires){const s=Date.now()-t.timestamp;if(s>t.expires||s<0)return this.proxy.removeItem(e),null}return t.value}return null}return null}set(e,t,s){e=this.getKey(e);const o={value:t};s&&(o.expires=this.setExpires(s),o.timestamp=Date.now());try{this.proxy.setItem(e,JSON.stringify(o))}catch(e){this.isQuotaExceeded(e)&&this.removeHttp()}}remove(e){this.proxy.removeItem(this.getKey(e))}clear(){for(const e of this.getForObject())-1===s.prefixUnable.indexOf(e)&&this.proxy.removeItem(e)}clearAll(){for(const e in this.getForObject())this.proxy.removeItem(e)}removeHttp(e=""){e=s.prefix+"http:"+e;for(const t in this.getForObject())t.startsWith(e)&&this.proxy.removeItem(t)}getKey(e){return-1!==s.prefixUnable.indexOf(e)?e:s.prefix+e}getForObject(){return this.proxy instanceof o?this.proxy.store:this.proxy}isQuotaExceeded(e){let t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}setExpires(e){const t=e+"";let s=0;return t.replace(/(\d+)([DHMS])/g,(function(e,o,i){switch(o=parseInt(o,10),i){case"D":s+=24*o*3600;break;case"H":s+=3600*o;break;case"M":s+=60*o;break;case"S":s+=o}return t})),1e3*s}}var r=new class extends i{constructor(){super("local")}};var n=new class extends i{constructor(){super("session")}};export{e as cookieStorage,r as localStorage,n as sessionStorage};
//# sourceMappingURL=index.js.map
